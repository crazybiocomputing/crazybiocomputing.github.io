function doIt(){var e={clientX:0,clientY:0},t=document.getElementById("background").offsetLeft,o=document.getElementById("background").offsetTop;myAlert(e,"I am the boss",{x:t+320,y:o+20})}function room(e,t){console.log(e);var o=e||window.event;switch(t){case 1:myAlert(o,"I found that the <b>Mouse</b> is more related to the <b>Sponge</b> than to the <b>Tomato</b>",emptybubble);break;case 2:myAlert(o,"... The <b>Tomato</b> and the <b>Fern</b> are closely related",emptybubble);break;case 3:myAlert(o,"We have 5 species: <b>Tomato</b>, <b>Fern</b>, <b>Sponge</b>, <b>Mouse</b>, and <b>Mushroom</b> ...and a partially drawn cladogram",emptybubble);break;case 4:myAlert(o,"'d' is the common ancestor to the <b>Mushroom</b> and to the <b>Sponge</b>",emptybubble);break;case 5:if(joker){var n='<p>"Where is the common ancestor ?..."</p><form name="joker_form" method="post">';n+='<label>Node:</label><input name="node" type="text" size="6"></input>',n+='<input type="button" style="float:right;" value="OK" onclick="runForm2()"></input></form><br>',myAlert(o,n,emptybubble)}else myAlert(o,"Nothing.",emptybubble);break;case 6:var l=window.open("http://en.wikipedia.org/wiki/Cladogram","_blank");l.focus();break;case 7:myAlert(o,'Here is the cladogram...<br><br><br><img src="tree.png"></src>',emptybubble);break;case 8:var n='<p>"How do I complete this form?..."</p><form name="bubble_form" method="post">';n+='<div class="block"><label>&tridot;</label><input name="items[]" type="text" size="6"></input></div>',n+='<div class="block"><label>&clubs; </label><input name="items[]" type="text" size="6"></input></div>',n+='<div class="block"><label>&otimes;</label><input name="items[]" type="text" size="6"></input></div>',n+='<div class="block"><label>&spades;</label><input name="items[]" type="text" size="6"></input></div>',n+='<div class="block"><label>&olcir; </label><input name="items[]" type="text" size="6"></input><br>',n+='<input type="button" style="float:right;" value="OK" onclick="runForm()"></input></form><br>',myAlert(o,n,emptybubble),sample|=4;break;case 9:myAlert(o,"I am the boss",emptybubble),sample|=16}}function runForm(){for(var e=document.bubble_form.elements["items[]"],t=["mushroom","mouse","fern","tomato","sponge"],o={clientX:0,clientY:0},n=document.getElementById("background").offsetLeft,l=document.getElementById("background").offsetTop,r=0,a=0;a<e.length;a++)e[a].value.toLowerCase().trim()===t[a]&&(r+=Math.pow(2,a+1)),console.log(e[a].value.toLowerCase().trim());62==r?(joker=!0,myAlert(o,'Congratulations!!<br>Now, last question:"This cladogram is unrooted. Which node (a, b, c, d, or e) is the common ancestor of the 5 species? "',{x:n+320,y:l+20})):myAlert(o,'Oh Nooo!!, one (or several answers are wrong)... "',{x:n+320,y:l+20})}function runForm2(){var e={clientX:0,clientY:0},t=document.getElementById("background").offsetLeft,o=document.getElementById("background").offsetTop;"c"===document.joker_form.node.value.toLowerCase().trim()?myAlert(e,'<p style="font-size:30px"><a href="arabidopsis.php">Congratulations!!</a> You win...</p>',{x:t+320,y:o+20}):myAlert(e,'Oh Nooo!!, the answer is desperitely wrong ... "',{x:t+320,y:o+20})}function myAlert(e,t,o){e=e||window.event,console.log("myAlert "+t+" "+e.clientX+" "+e.clientY);var n=document.getElementById("bubble");n.innerHTML="<p>"+t+"</p>",n.style.left=e.clientX+o.x+"px",n.style.top=e.clientY+o.y+"px"}var sample=0,joker=!1,emptybubble={x:0,y:0};
